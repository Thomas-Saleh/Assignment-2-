{"ast":null,"code":"import axios from \"axios\";\n\n// --- Constants ----------------------------------------------------------------------------------\nconst API_HOST = \"http://localhost:3000\";\nconst USER_KEY = \"user\";\n\n// --- User ---------------------------------------------------------------------------------------\nasync function verifyUser(email, password) {\n  const response = await axios.post(API_HOST + \"/api/users/login\", {\n    email,\n    password\n  });\n  const user = response.data;\n  if (user) setUser(user);\n  return user;\n}\nasync function findUser(id) {\n  const response = await axios.get(API_HOST + `/api/users/${id}`);\n  return response.data;\n}\nasync function createUser(user) {\n  const response = await axios.post(API_HOST + \"/api/users\", user);\n  return response.data;\n}\n\n// --- Helper functions to interact with local storage --------------------------------------------\nfunction setUser(user) {\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n}\nfunction getUser() {\n  const user = localStorage.getItem(USER_KEY);\n  try {\n    return JSON.parse(user);\n  } catch (error) {\n    console.error(\"Failed to parse user data from local storage:\", error);\n    localStorage.removeItem(USER_KEY); // Remove invalid data\n    return null;\n  }\n}\nfunction removeUser() {\n  localStorage.removeItem(USER_KEY);\n}\nexport { verifyUser, findUser, createUser, getUser, removeUser };","map":{"version":3,"names":["axios","API_HOST","USER_KEY","verifyUser","email","password","response","post","user","data","setUser","findUser","id","get","createUser","localStorage","setItem","JSON","stringify","getUser","getItem","parse","error","console","removeItem","removeUser"],"sources":["/Users/thomassaleh/Desktop/Assignment-2-/s4006031-s3928350-a2/React/src/data/repository.js"],"sourcesContent":["import axios from \"axios\";\n\n// --- Constants ----------------------------------------------------------------------------------\nconst API_HOST = \"http://localhost:3000\";\nconst USER_KEY = \"user\";\n\n// --- User ---------------------------------------------------------------------------------------\nasync function verifyUser(email, password) {\n  const response = await axios.post(API_HOST + \"/api/users/login\", { email, password });\n  const user = response.data;\n  \n  if (user) setUser(user);\n\n  return user;\n}\n\nasync function findUser(id) {\n  const response = await axios.get(API_HOST + `/api/users/${id}`);\n  return response.data;\n}\n\nasync function createUser(user) {\n  const response = await axios.post(API_HOST + \"/api/users\", user);\n  return response.data;\n}\n\n// --- Helper functions to interact with local storage --------------------------------------------\nfunction setUser(user) {\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n}\n\nfunction getUser() {\n  const user = localStorage.getItem(USER_KEY);\n  try {\n    return JSON.parse(user);\n  } catch (error) {\n    console.error(\"Failed to parse user data from local storage:\", error);\n    localStorage.removeItem(USER_KEY); // Remove invalid data\n    return null;\n  }\n}\n\nfunction removeUser() {\n  localStorage.removeItem(USER_KEY);\n}\n\nexport {\n  verifyUser, findUser, createUser,\n  getUser, removeUser\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,QAAQ,GAAG,uBAAuB;AACxC,MAAMC,QAAQ,GAAG,MAAM;;AAEvB;AACA,eAAeC,UAAUA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACzC,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAACN,QAAQ,GAAG,kBAAkB,EAAE;IAAEG,KAAK;IAAEC;EAAS,CAAC,CAAC;EACrF,MAAMG,IAAI,GAAGF,QAAQ,CAACG,IAAI;EAE1B,IAAID,IAAI,EAAEE,OAAO,CAACF,IAAI,CAAC;EAEvB,OAAOA,IAAI;AACb;AAEA,eAAeG,QAAQA,CAACC,EAAE,EAAE;EAC1B,MAAMN,QAAQ,GAAG,MAAMN,KAAK,CAACa,GAAG,CAACZ,QAAQ,GAAI,cAAaW,EAAG,EAAC,CAAC;EAC/D,OAAON,QAAQ,CAACG,IAAI;AACtB;AAEA,eAAeK,UAAUA,CAACN,IAAI,EAAE;EAC9B,MAAMF,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAACN,QAAQ,GAAG,YAAY,EAAEO,IAAI,CAAC;EAChE,OAAOF,QAAQ,CAACG,IAAI;AACtB;;AAEA;AACA,SAASC,OAAOA,CAACF,IAAI,EAAE;EACrBO,YAAY,CAACC,OAAO,CAACd,QAAQ,EAAEe,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC,CAAC;AACtD;AAEA,SAASW,OAAOA,CAAA,EAAG;EACjB,MAAMX,IAAI,GAAGO,YAAY,CAACK,OAAO,CAAClB,QAAQ,CAAC;EAC3C,IAAI;IACF,OAAOe,IAAI,CAACI,KAAK,CAACb,IAAI,CAAC;EACzB,CAAC,CAAC,OAAOc,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,+CAA+C,EAAEA,KAAK,CAAC;IACrEP,YAAY,CAACS,UAAU,CAACtB,QAAQ,CAAC,CAAC,CAAC;IACnC,OAAO,IAAI;EACb;AACF;AAEA,SAASuB,UAAUA,CAAA,EAAG;EACpBV,YAAY,CAACS,UAAU,CAACtB,QAAQ,CAAC;AACnC;AAEA,SACEC,UAAU,EAAEQ,QAAQ,EAAEG,UAAU,EAChCK,OAAO,EAAEM,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}